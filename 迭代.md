---
settings:
  post:
    name: 贴，Posts
    collection: posts
    sample: 测试文章
    fields:
      name: slug
      selective: [slug, date, content, layout]
      selective2: [date, content, layout]
---
## 集，Collections
{{site.collections|map:'label'|join:', '}}
{%assign collection=site.collections|find:'label','posts'-%}
{{collection|join:', '}}

{%assign selective='label, name, output, docs, relative_directory, permalink'|split:', '-%}
{{selective|join:'|'}}
{%for collection in site.collections-%}
{%for a in selective-%}
{%if a=='docs'%}[{{collection[a]|size}}]{%else%}{{collection[a]}}{%endif-%}
|{%endfor%}
{%endfor%}

{%assign s=page.settings.post%}{%assign l=site[s.collection]%}
## {{s.name}}
{{l|map:s.fields.name|join:', '}}
{%assign post=l|find:s.fields.name,s.sample-%}
{{post|join:', '}}

{{s.fields.name|concat:s.fields.selective|join:'|'}}
{{s.fields.selective|join:'|'}}
{%for i in l-%}
{%for field in s.fields.selective-%}
{%if field=='date'%}{{i[field]|date:'%Y-%m-%d'-}}
{%elsif i[field].first%}[{{i[field].size}}]
{%-else-%}
  {%assign a=i[field]|newline_to_br|strip_newlines-%}
  {%-if a.size>10%}[{{a.size}}]{%
  else%}{{a|replace:'<','&lt;'}}{%endif-%}
{%endif%}|{%endfor%}
{%endfor%}
