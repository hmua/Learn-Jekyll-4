---
settings:
  post:
    name: slug
    content: content
    selective: [slug, date, content, layout]
    sample: 测试文章
---
## 集，Collections
{{site.collections|map:'label'|join:', '}}
{%assign collection=site.collections|find:'label','posts'-%}
{{collection|join:', '}}

{%assign selective='label, name, output, docs, relative_directory, permalink'|split:', '-%}
{{selective|join:'|'}}
{%for collection in site.collections-%}
{%for a in selective-%}
{%if a=='docs'%}[{{collection[a]|size}}]{%else%}{{collection[a]}}{%endif-%}
|{%endfor%}
{%endfor%}

## 贴，Posts
{%assign s=page.settings.post%}{%assign l=site['posts']%}
{{l|map:s.name|join:', '}}
{%assign post=l|find:s.name,s.sample-%}
{{post|join:', '}}

{{s.selective|join:'|'}}
{%for i in l%}{%for field in s.selective-%}
{%if field==s.content%}[{{i[field]|size}}]
  {%-else%}{{i[field]|date:'%Y-%m-%d'}}{%endif-%}
|{%endfor%}
{%endfor%}

## 贴，Posts，2
{%assign s=page.settings.post%}{%assign l=site['posts']%}
{{l|map:s.name|join:', '}}
{%assign post=l|find:s.name,s.sample-%}
{{post|join:', '}}

{{s.selective|join:'|'}}
{%for i in l-%}
{%for field in s.selective-%}
{%if i[field].first or i[field].size>10%}[{{i[field].size}}]
  {%-else%}{{i[field]|date:'%Y-%m-%d'}}{%endif%}|{%endfor%}
{%endfor%}

## 贴，Posts，3
{%assign s=page.settings.post%}{%assign l=site['posts']%}
{{l|map:s.name|join:', '}}
{%assign post=l|find:s.name,s.sample-%}
{{post|join:', '}}

{{s.selective|join:'|'}}
{%for i in l-%}
{%for field in s.selective-%}
{%assign a=i[field]-%}
{%if field=='date'%}{{a|date:'%Y-%m-%d'-}}
{%elsif a.first or a.size>10%}[{{a.size}}]
  {%-else%}{{a|replace:'|','&vert;'}}{%endif%}|{%endfor%}
{%endfor%}

## 贴，Posts，4
{%assign s=page.settings.post%}{%assign l=site['posts']%}
{{l|map:s.name|join:', '}}
{%assign post=l|find:s.name,s.sample-%}
{{post|join:', '}}

{{s.selective|join:'|'}}
{%for i in l-%}
{%for field in s.selective-%}
{%if field=='date'%}{{i[field]|date:'%Y-%m-%d'-}}
{%elsif i[field].first}[{{i[field].size}}]
{%-else-%}
  {%assign a=i[field]|newline_to_br|strip_newlines-%}
  {%if a.size>10%}[{{a.size}}]
  {%-else%}{{a|replace:'|','&vert;'}}{%endif-%}
{%endif%}|{%endfor%}
{%endfor%}
